---
layout: post
title: "requestsè¯·æ±‚åº“"
date: 2020-06-10
sitemap: false
keywords: "blog"
description: "ğŸš€"
---

pythonè¯·æ±‚åº“requestså¸¸è§apiæ€»ç»“  

## åŸºæœ¬ç”¨æ³•
1.`requests`å¯ä»¥ç›´æ¥è·Ÿä¸Š`post`ï¼Œ`get`ï¼Œ`put`ï¼Œ`delete`ç­‰æ–¹æ³•ï¼Œè¿”å›ä¸€ä¸ªresponseå¯¹è±¡   
2.`get`è¯·æ±‚å¯ä»¥ç›´æ¥æ·»åŠ paramså‚æ•°ç”¨äºæ„é€ getè¯·æ±‚çš„å‚æ•°,å¯ä»¥ç›´æ¥æ·»åŠ headerså‚æ•°è®¾ç½®è¯·æ±‚å¤´ã€‚å¦‚æœè¿”å›jsonæ ¼å¼ï¼Œå¯ä»¥ç›´æ¥è°ƒç”¨`response.json()`è¿”å›ä¸€ä¸ªå­—å…¸æ ¼å¼ï¼›å¦‚æœè¿”å›å­—ç¬¦ä¸²æ ¼å¼ï¼Œç›´æ¥è°ƒç”¨`response.text`ï¼›å¦‚æœè¿”å›çš„æ˜¯äºŒè¿›åˆ¶æ•°æ®ï¼Œç›´æ¥è°ƒç”¨`response.content` 
> åœ¨getè¯·æ±‚çš„æ—¶å€™ï¼Œç»å¸¸ä½¿ç”¨urllib.parseæ¨¡å—ï¼Œåˆ©ç”¨è¯¥æ¨¡å—çš„urlencodeæ–¹æ³•æ„é€ paramså‚æ•°ã€‚  

3.`post`è¯·æ±‚å¯ä»¥ç›´æ¥æ·»åŠ `data`å‚æ•°ä¼ é€’postå‚æ•°ã€‚  
4.å“åº”çš„ä¸€äº›å±æ€§ï¼Œ`status_code`,`cookies`,`headers`åˆ†åˆ«è¡¨ç¤ºçŠ¶æ€ç ï¼Œcookiesï¼Œå“åº”å¤´  

## é«˜çº§ç”¨æ³•
1.æ–‡ä»¶ä¸Šä¼ ï¼Œé€šè¿‡postæ–¹æ³•çš„fileså‚æ•°ã€‚  
2.cookiesçš„è®¾ç½®ï¼Œå¯ä»¥ç›´æ¥å†™å…¥headersè¯·æ±‚å¤´`Cookie`å­—æ®µ  
3.ä¼šè¯ç»´æŒï¼Œå¦‚æœæƒ³è¦ä¸¤æ¬¡è¯·æ±‚å…±ç”¨cookieå¯ä»¥ç»´æŒåŒä¸€ä¸ªä¼šè¯ã€‚é€šè¿‡`requests.Session()`api.  

```python
import requests 
s = requests.Session() 
s.get('http://httpbin.org/cookies/set/number/123456789') 
r = s.get('http://httpbin.org/cookies')
print(r.text) 
```   
4.SSLè¯ä¹¦éªŒè¯ã€‚å½“å‘é€HTTPè¯·æ±‚çš„æ—¶å€™ï¼Œå®ƒä¼šæ£€æŸ¥SSLè¯ä¹¦ï¼Œå¯ä»¥ä½¿ç”¨verifyå‚æ•°æ§åˆ¶æ˜¯å¦æ£€æŸ¥æ­¤è¯ä¹¦ï¼Œé»˜è®¤ä¸ºTrue.  
5.ä»£ç†è®¾ç½®ï¼Œé€šè¿‡proxieså‚æ•°å¯ä»¥è®¾ç½®ä»£ç†ã€‚  
6.è¶…æ—¶è®¾ç½®ï¼Œé€šè¿‡timeoutå‚æ•°è®¾ç½®ã€‚è¶…è¿‡äº†è¿™ä¸ªæ—¶é—´æ— å“åº”ç›´æ¥æŠ¥é”™  
7.èº«ä»½è®¤è¯ï¼Œå¯ä»¥ç”¨authå‚æ•°ç›´æ¥ä¼ é€’ä¸€ä¸ªuserå’Œpasswordçš„å…ƒç»„ï¼Œrequestsä¼šè‡ªåŠ¨è½¬æ¢ä¸ºHTTPBasicAuthç±»æ¥è®¤è¯ã€‚

